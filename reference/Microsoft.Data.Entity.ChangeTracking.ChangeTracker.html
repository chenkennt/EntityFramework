<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class ChangeTracker | Entity Framework</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class ChangeTracker | Entity Framework">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/vendor.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:nav" content="toc.html">
    <meta property="docfx:toc" content="reference/toc.html">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content">
        
        <div class="sidenav">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div class="sidetoc">
              <iframe id="sidetoc" src="toc.html"></iframe>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content">
              
              
              <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L20" class="btn btn-primary pull-right mobile-hide">View Source</a>
              <h1 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker">Class ChangeTracker</h1>
              <div class="markdown level0 summary"><p>Provides access to change tracking information and operations for entity instances the context is tracking.
Instances of this class are typically obtained from <a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_ChangeTracker">ChangeTracker</a> and it is not designed
to be directly constructed in your application code.</p>
</div>
              <div class="markdown level0 conceptual"></div>
              <div class="inheritance">
                <h5>Inheritance</h5>
                  <div class="level0"><span class="xref">System.Object</span></div>
                  <div class="level1"><span class="xref">ChangeTracker</span></div>
              </div>
              <h6><strong>Namespace</strong>:Microsoft.Data.Entity.ChangeTracking</h6>
              <h6><strong>Assembly</strong>:EntityFramework.Core.dll</h6>
              <h5 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public class ChangeTracker : IInfrastructure&lt;IStateManager&gt;</code></pre>
              </div>
              <h3 id="constructors">Constructors</h3>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L35">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker__ctor_Microsoft_Data_Entity_ChangeTracking_Internal_IStateManager_Microsoft_Data_Entity_ChangeTracking_Internal_IChangeDetector_Microsoft_Data_Entity_ChangeTracking_Internal_IEntityEntryGraphIterator_Microsoft_Data_Entity_DbContext_">ChangeTracker(IStateManager, IChangeDetector, IEntityEntryGraphIterator, DbContext)</h4>
              <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.ChangeTracker.html#Microsoft_Data_Entity_ChangeTracking_ChangeTracker">ChangeTracker</a> class. Instances of this class are typically
obtained from <a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_ChangeTracker">ChangeTracker</a> and it is not designed to be directly constructed
in your application code.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public ChangeTracker(IStateManager stateManager, IChangeDetector changeDetector, IEntityEntryGraphIterator graphIterator, DbContext context)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.ChangeTracking.Internal.IStateManager.html#Microsoft_Data_Entity_ChangeTracking_Internal_IStateManager">IStateManager</a></td>
                    <td><em>stateManager</em></td>
                    <td><p>The internal state manager being used to store information about tracked entities.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.ChangeTracking.Internal.IChangeDetector.html#Microsoft_Data_Entity_ChangeTracking_Internal_IChangeDetector">IChangeDetector</a></td>
                    <td><em>changeDetector</em></td>
                    <td><p>The internal change detector used to identify changes in tracked entities.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.ChangeTracking.Internal.IEntityEntryGraphIterator.html#Microsoft_Data_Entity_ChangeTracking_Internal_IEntityEntryGraphIterator">IEntityEntryGraphIterator</a></td>
                    <td><em>graphIterator</em></td>
                    <td><p>The internal graph iterator used to traverse graphs of entities.</p>
</td>
                  </tr>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext">DbContext</a></td>
                    <td><em>context</em></td>
                    <td><p>The context this change tracker belongs to.</p>
</td>
                  </tr>
                </tbody>
              </table>
              <h3 id="properties">Properties</h3>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L66">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_AutoDetectChangesEnabled">AutoDetectChangesEnabled</h4>
              <div class="markdown level1 summary"><para>
Gets or sets a value indicating whether the <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.ChangeTracker.html#Microsoft_Data_Entity_ChangeTracking_ChangeTracker_DetectChanges">DetectChanges()</a> method is called
automatically by methods of <a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext">DbContext</a> and related classes.
</para>
<para>
The default value is true. This ensures the context is aware of any changes to tracked entity instances
before performing operations such as <a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_SaveChanges">SaveChanges()</a> or returning change tracking
information. If you disable automatic detect changes then you must ensure that
<a class="xref" href="Microsoft.Data.Entity.ChangeTracking.ChangeTracker.html#Microsoft_Data_Entity_ChangeTracking_ChangeTracker_DetectChanges">DetectChanges()</a> is called when entity instances have been modified.
Failure to do so may result in some changes not being persisted during
<a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_SaveChanges">SaveChanges()</a> or out-of-date change tracking information being returned.
</para></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual bool AutoDetectChangesEnabled { get; set; }</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Boolean</span></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L136">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_Context">Context</h4>
              <div class="markdown level1 summary"><p>Gets the context this change tracker belongs to.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual DbContext Context { get; }</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext">DbContext</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L131">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_Microsoft_Data_Entity_Infrastructure_IInfrastructure_Microsoft_Data_Entity_ChangeTracking_Internal_IStateManager__Instance">IInfrastructure&lt;IStateManager&gt;.Instance</h4>
              <div class="markdown level1 summary"><para>
Gets the internal state manager being used to store information about tracked entities.
</para>
<para>
This property is intended for use by extension methods. It is not intended to be used in
application code.
</para></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">IStateManager IInfrastructure&lt;IStateManager&gt;.Instance { get; }</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.ChangeTracking.Internal.IStateManager.html#Microsoft_Data_Entity_ChangeTracking_Internal_IStateManager">IStateManager</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L85">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_QueryTrackingBehavior">QueryTrackingBehavior</h4>
              <div class="markdown level1 summary"><para>
Gets or sets the tracking behavior for LINQ queries run against the context. Disabling change tracking
is useful for read-only scenarios because it avoids the overhead of setting up change tracking for each
entity instance. You should not disable change tracking if you want to manipulate entity instances and
persist those changes to the database using <a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_SaveChanges">SaveChanges()</a>.
</para>
<para>
This method sets the default behavior for the context, but you can override this behavior for individual
queries using the <a class="xref" href="Microsoft.Data.Entity.EntityFrameworkQueryableExtensions.html#Microsoft_Data_Entity_EntityFrameworkQueryableExtensions_AsNoTracking__1_System_Linq_IQueryable___0__">AsNoTracking&lt;TEntity&gt;(IQueryable&lt;TEntity&gt;)</a>
and <a class="xref" href="Microsoft.Data.Entity.EntityFrameworkQueryableExtensions.html#Microsoft_Data_Entity_EntityFrameworkQueryableExtensions_AsTracking__1_System_Linq_IQueryable___0__">AsTracking&lt;TEntity&gt;(IQueryable&lt;TEntity&gt;)</a> methods.
</para>
<para>
The default value is <a class="xref" href="Microsoft.Data.Entity.QueryTrackingBehavior.html#Microsoft_Data_Entity_QueryTrackingBehavior_TrackAll">TrackAll</a>. This means the change tracker will
keep track of changes for all entities that are returned from a LINQ query.
</para></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual QueryTrackingBehavior QueryTrackingBehavior { get; set; }</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><a class="xref" href="Microsoft.Data.Entity.QueryTrackingBehavior.html#Microsoft_Data_Entity_QueryTrackingBehavior">QueryTrackingBehavior</a></td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
              <h3 id="methods">Methods</h3>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L151">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_AcceptAllChanges">AcceptAllChanges()</h4>
              <div class="markdown level1 summary"><p>Accepts all changes made to entities in the context. It will be assumed that the tracked entities
represent the current state of the database. This method is typically called by <a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_SaveChanges">SaveChanges()</a>
after changes have been successfully saved to the database.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual void AcceptAllChanges()</code></pre>
              </div>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L144">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_DetectChanges">DetectChanges()</h4>
              <div class="markdown level1 summary"><p>Scans the tracked entity instances to detect any changes made to the instance data. <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.ChangeTracker.html#Microsoft_Data_Entity_ChangeTracking_ChangeTracker_DetectChanges">DetectChanges()</a>
is usually called automatically by the context when up-to-date information is required (before
<a class="xref" href="Microsoft.Data.Entity.DbContext.html#Microsoft_Data_Entity_DbContext_SaveChanges">SaveChanges()</a> and when returning change tracking information). You typically only need to
call this method if you have disabled <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.ChangeTracker.html#Microsoft_Data_Entity_ChangeTracking_ChangeTracker_AutoDetectChangesEnabled">AutoDetectChangesEnabled</a>.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual void DetectChanges()</code></pre>
              </div>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L92">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_Entries">Entries()</h4>
              <div class="markdown level1 summary"><p>Gets an <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntry.html#Microsoft_Data_Entity_ChangeTracking_EntityEntry">EntityEntry</a> for each entity being tracked by the context.
The entries provide access to change tracking information and operations for each entity.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual IEnumerable&lt;EntityEntry&gt; Entries()</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntry.html#Microsoft_Data_Entity_ChangeTracking_EntityEntry">EntityEntry</a>&gt;</td>
                    <td><p>An entry for each entity being tracked.</p>
</td>
                  </tr>
                </tbody>
              </table>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L105">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_Entries__1">Entries&lt;TEntity&gt;()</h4>
              <div class="markdown level1 summary"><p>Gets an <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntry.html#Microsoft_Data_Entity_ChangeTracking_EntityEntry">EntityEntry</a> for all entities of a given type being tracked by the context.
The entries provide access to change tracking information and operations for each entity.</p>
</div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual IEnumerable&lt;EntityEntry&lt;TEntity&gt;&gt; Entries&lt;TEntity&gt;()where TEntity : class</code></pre>
              </div>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Collections.Generic.IEnumerable</span>&lt;<a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntry`1.html#Microsoft_Data_Entity_ChangeTracking_EntityEntry_1">EntityEntry</a>&lt;TEntity&gt;&gt;</td>
                    <td><p>An entry for each entity of the given type that is being tracked.</p>
</td>
                  </tr>
                </tbody>
              </table>
              
              <span class="small pull-right mobile-hide">
                <a href="https://github.com/chenkennt/EntityFramework/blob/dev/src/EntityFramework.Core/ChangeTracking/ChangeTracker.cs/#L178">View Source</a>
              </span>
              <h4 id="Microsoft_Data_Entity_ChangeTracking_ChangeTracker_TrackGraph_System_Object_System_Action_Microsoft_Data_Entity_ChangeTracking_EntityEntryGraphNode__">TrackGraph(Object, Action&lt;EntityEntryGraphNode&gt;)</h4>
              <div class="markdown level1 summary"><para>
Begins tracking an entity and any entities that are reachable by traversing it&#39;s navigation properties.
Traversal is recursive so the navigation properties of any discovered entities will also be scanned.
The specified <paramref name="callback"></paramref> is called for each discovered entity and must set the
<a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntry.html#Microsoft_Data_Entity_ChangeTracking_EntityEntry_State">State</a> that each entity should be tracked in. If no state is set, the entity
remains untracked.
</para>
<para>
This method is designed for use in disconnected scenarios where entities are retrieved using one instance of
the context and then changes are saved using a different instance of the context. An example of this is a
web service where one service call retrieves entities from the database and another service call persists
any changes to the entities. Each service call uses a new instance of the context that is disposed when the
call is complete.
</para>
<para>
If an entity is discovered that is already tracked by the context, that entity is not processed (and it&#39;s
navigation properties are not traversed).
</para></div>
              <div class="markdown level1 conceptual"></div>
              <h5 class="decalaration">Declaration</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public virtual void TrackGraph(object rootEntity, Action&lt;EntityEntryGraphNode&gt; callback)</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Name</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><span class="xref">System.Object</span></td>
                    <td><em>rootEntity</em></td>
                    <td><p>The entity to begin traversal from.</p>
</td>
                  </tr>
                  <tr>
                    <td><span class="xref">System.Action</span>&lt;<a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntryGraphNode.html#Microsoft_Data_Entity_ChangeTracking_EntityEntryGraphNode">EntityEntryGraphNode</a>&gt;</td>
                    <td><em>callback</em></td>
                    <td><p>An action to configure the change tracking information for each entity. For the entity to begin being tracked,
the <a class="xref" href="Microsoft.Data.Entity.ChangeTracking.EntityEntry.html#Microsoft_Data_Entity_ChangeTracking_EntityEntry_State">State</a> must be set.</p>
</td>
                  </tr>
                </tbody>
              </table>
            </article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2015 Microsoft<br>Powered by Doc-as-Code</span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/vendor.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
